[
  {
    "testId": 1,
    "description": "when percent based fee is 0%",
    "feeCalculation": "Percent",
    "amount": "3735928559",
    "amountScale": "9",
    "feeMinPct": "0",
    "feeMaxPct": "0",
    "feeLastUpdate": "0",
    "feeThisUpdate": "0",
    "feeLastPrice": "0",
    "feeThisPrice": "0",
    "feeThisPriceScale": "0",
    "feeLastEwma": "0",
    "feeEwmaWindow": "0",
    "feeLambda": "0",
    "feeVelocity": "0",
    "expected": {
      "feeAmount": "0",
      "feePercentage": "0",
      "amountExFee": "3735928559",
      "feeLastUpdate": "0",
      "feeLastPrice": "0",
      "feeLastEwma": "0"
    }
  },
  {
    "testId": 2,
    "description": "when percent based fee is 0.05%",
    "feeCalculation": "Percent",
    "amount": "3735928559",
    "amountScale": "9",
    "feeMinPct": "500000000",
    "feeMaxPct": "0",
    "feeLastUpdate": "0",
    "feeThisUpdate": "0",
    "feeLastPrice": "0",
    "feeThisPrice": "0",
    "feeThisPriceScale": "0",
    "feeLastEwma": "0",
    "feeEwmaWindow": "0",
    "feeLambda": "0",
    "feeVelocity": "0",
    "expected": {
      "feeAmount": "1867965",
      "feePercentage": "500000000",
      "amountExFee": "3734060594",
      "feeLastUpdate": "0",
      "feeLastPrice": "0",
      "feeLastEwma": "0"
    }
  },
  {
    "testId": 3,
    "description": "when percent based fee is 0.5%",
    "feeCalculation": "Percent",
    "amount": "3735928559",
    "amountScale": "9",
    "feeMinPct": "5000000000",
    "feeMaxPct": "0",
    "feeLastUpdate": "0",
    "feeThisUpdate": "0",
    "feeLastPrice": "0",
    "feeThisPrice": "0",
    "feeThisPriceScale": "0",
    "feeLastEwma": "0",
    "feeEwmaWindow": "0",
    "feeLambda": "0",
    "feeVelocity": "0",
    "expected": {
      "feeAmount": "18679643",
      "feePercentage": "5000000000",
      "amountExFee": "3717248916",
      "feeLastUpdate": "0",
      "feeLastPrice": "0",
      "feeLastEwma": "0"
    }
  },
  {
    "testId": 4,
    "description": "when volatility adjusted fee first time",
    "feeCalculation": "VolatilityAdjusted",
    "amount": "1000000000",
    "amountScale": "6",
    "feeMinPct": "500000000",
    "feeMaxPct": "20000000000",
    "feeLastUpdate": "0",
    "feeThisUpdate": "1649113200",
    "feeLastPrice": "0",
    "feeThisPrice": "340000000000",
    "feeThisPriceScale": "8",
    "feeLastEwma": "178367580",
    "feeEwmaWindow": "3600000000000000",
    "feeLambda": "545000000000",
    "feeVelocity": "4166666666",
    "expected": {
      "feeAmount": "5350968",
      "feePercentage": "5350967760",
      "amountExFee": "994649032",
      "feeLastUpdate": "1649113200",
      "feeLastPrice": "3400000000000000",
      "feeLastEwma": "178367580"
    }
  },
  {
    "testId": 5,
    "description": "when volatility adjusted fee second time",
    "feeCalculation": "VolatilityAdjusted",
    "amount": "1000000000",
    "amountScale": "6",
    "feeMinPct": "500000000",
    "feeMaxPct": "20000000000",
    "feeLastUpdate": "1649113200",
    "feeThisUpdate": "1649116800",
    "feeLastPrice": "3400000000000000",
    "feeThisPrice": "342500000000",
    "feeThisPriceScale": "8",
    "feeLastEwma": "178367580",
    "feeEwmaWindow": "3600000000000000",
    "feeLambda": "545000000000",
    "feeVelocity": "4166666666",
    "expected": {
      "feeAmount": "3654280",
      "feePercentage": "3654279600",
      "amountExFee": "996345720",
      "feeLastUpdate": "1649116800",
      "feeLastPrice": "3425000000000000",
      "feeLastEwma": "121810244"
    }
  }
]
